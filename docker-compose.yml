services:
  backend-camera:
    build: .                     # ‚úÖ Build ‡∏à‡∏≤‡∏Å Dockerfile ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ
    container_name: backend-camera
    environment:
      - PYTHONPATH=/app
      - PYTHONUNBUFFERED=1
      - RABBITMQ_HOST=SY_rabbitmq
    devices:
      - "/dev/video0:/dev/video0"
    privileged: true             # ‚úÖ ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á
    volumes:
      - ./app:/app/app
      - ./app/saved_faces_local:/app/app/saved_faces  # üî• ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ
    ports:
      - "8000:8000"
    restart: always
    networks:
      - SY_network

networks:
  SY_network:
    external: true
